# PRD Reader

一个基于 Electron 的 PRD（产品需求文档）阅读器，用于本地浏览和查看 HTML 格式的产品需求文档。

## 功能特性

- 📁 **文件夹导入**: 选择包含 PRD 文档的本地文件夹
- 🌐 **内置浏览器**: 使用 Chromium 内核渲染 HTML 文件
- 🗂️ **文件树浏览**: 左侧树状结构显示文件夹层级关系
- 🚀 **HTTP 服务器**: 内置轻量级服务器，支持自定义端口
- 🎨 **现代界面**: 简洁的深色主题设计
- ⚡ **快速导航**: 支持前进、后退、刷新等浏览器操作
- 🔍 **实时预览**: 点击 HTML 文件即可在右侧浏览器中查看

## 界面布局

- **左侧 (30%)**: 文件浏览器，显示文件夹的树状结构
- **右侧 (70%)**: Chromium 浏览器，用于渲染和显示 HTML 内容
- **顶部工具栏**: 文件夹选择、服务器配置和状态显示
- **底部状态栏**: 显示当前状态和文件统计信息

## 安装和运行

### 环境要求

- Node.js 16.0 或更高版本
- npm 或 yarn 包管理器

### 安装依赖

```bash
# 克隆项目（如果从 Git 仓库）
git clone <repository-url>
cd PRD_Reading

# 安装依赖
npm install
```

### 开发模式运行

```bash
# 启动开发模式
npm start

# 或者使用调试模式
npm run dev
```

### 构建应用

```bash
# 构建应用
npm run build

# 打包分发版本
npm run dist
```

## 使用方法

### 1. 启动应用
运行应用后，您将看到主界面，左侧为空的文件浏览器，右侧为空的浏览器视图。

### 2. 选择 PRD 文件夹
- 点击顶部工具栏的 "📁 选择PRD文件夹" 按钮
- 在弹出的对话框中选择包含 HTML 文件的文件夹
- 应用将自动扫描并显示文件夹结构

### 3. 配置和启动服务器
- 在中央工具栏中设置端口号（默认 8000）
- 点击 "启动服务器" 按钮
- 服务器启动后，状态指示器将变为绿色

### 4. 浏览 PRD 文档
- 在左侧文件树中点击 HTML 文件
- 文件内容将在右侧浏览器中显示
- 使用浏览器控制按钮进行导航（前进、后退、刷新、首页）

### 5. 停止服务器
- 点击 "停止服务器" 按钮即可停止 HTTP 服务器

## 快捷键

- `Ctrl/Cmd + O`: 选择文件夹
- `Ctrl/Cmd + R`: 刷新文件列表

## 技术架构

### 核心技术栈
- **Electron**: 跨平台桌面应用框架
- **Node.js**: 后端运行时环境
- **Express**: HTTP 服务器框架
- **HTML/CSS/JavaScript**: 前端界面技术

### 项目结构
```
PRD_Reading/
├── main.js              # Electron 主进程
├── preload.js           # 预加载脚本
├── index.html           # 主界面 HTML
├── styles.css           # 样式文件
├── renderer.js          # 渲染进程脚本
├── server/
│   └── http-server.js   # HTTP 服务器实现
├── utils/
│   └── file-utils.js    # 文件操作工具
├── package.json         # 项目配置
└── README.md           # 说明文档
```

### 安全特性
- 启用上下文隔离 (Context Isolation)
- 禁用 Node.js 集成
- 使用预加载脚本安全地暴露 API
- 路径验证防止目录遍历攻击

## 常见问题

### Q: 端口被占用怎么办？
A: 更改端口号到其他可用端口（如 8001、8080 等），然后重新启动服务器。

### Q: HTML 文件无法正常显示？
A: 确保 HTML 文件中的资源路径（CSS、JS、图片等）使用相对路径，并且这些资源文件在同一文件夹内。

### Q: 如何查看大型文件夹？
A: 应用支持虚拟滚动和懒加载，可以处理包含大量文件的文件夹。如果性能有问题，建议将文档分组到子文件夹中。

### Q: 支持哪些文件格式？
A: 主要支持 HTML 和 HTM 文件。其他文件类型（CSS、JS、图片等）作为资源文件支持。

## 开发指南

### 添加新功能
1. 在 `main.js` 中添加主进程逻辑
2. 在 `preload.js` 中暴露安全的 API
3. 在 `renderer.js` 中实现界面逻辑
4. 更新 `styles.css` 添加样式

### 调试技巧
- 使用 `npm run dev` 启动调试模式
- 按 `F12` 打开开发者工具
- 查看控制台输出和网络请求

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目。

## 更新日志

### v1.0.0
- 初始版本发布
- 基本的文件浏览和 HTML 渲染功能
- HTTP 服务器集成
- 现代化用户界面 